<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong - Archivio Storico Videogiochi</title>
    <link rel="stylesheet" href="assets/css/game-details.css">
</head>
<body>

    <div class="game-container">
        <h1>Pong</h1>
        <h2 class="game-year">1972</h2>

        <img src="assets/img/pong.jpg" alt="Pong" class="game-image">

        <div class="game-info">
            <p><strong>üéÆ Genere:</strong> Arcade</p>
            <p><strong>üè¢ Sviluppatore:</strong> Atari</p>
            <p><strong>üìÖ Anno di Rilascio:</strong> 1972</p>
            <p><strong>üìù Descrizione:</strong> Pong √® uno dei primi videogiochi arcade, sviluppato da Atari nel 1972. Simula il gioco del ping pong con una grafica minimalista.</p>
        </div>

        <!-- Video YouTube -->
        <div class="game-video">
            <h3>üé• Guarda il Gameplay</h3>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/fhd7FfGCdCo?si=GWu8waCbZjnVhq64" title="YouTube video player" frameborder="0"></iframe>        
        </div>

        <a href="index.html" class="back-button">‚¨Ö Torna alla Home</a>

        <!-- Bottone per visualizzare i commenti -->
    <button id="toggle-comments" class="comment-button">üí¨ Visualizza Commenti</button>

    <!-- Sezione Commenti (inizialmente nascosta) -->
    <div id="comment-section" class="comment-section hidden">
        <h3>üí¨ Commenti</h3>
        
        <div id="comments-container">
            <p class="no-comments">Nessun commento ancora. Aggiungi il primo!</p>
        </div>

        <!-- Nuovo campo Nome -->
        <input type="text" id="comment-author" placeholder="Il tuo nome..." class="comment-input">

        <!-- Campo testo per il commento -->
        <textarea id="comment-input" placeholder="Scrivi un commento..." class="comment-input"></textarea>
        
        <button id="add-comment" class="add-comment-button">Aggiungi Commento</button>
</div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const toggleButton = document.getElementById("toggle-comments");
            const commentSection = document.getElementById("comment-section");
            const commentAuthor = document.getElementById("comment-author");
            const commentInput = document.getElementById("comment-input");
            const addCommentButton = document.getElementById("add-comment");
            const commentsContainer = document.getElementById("comments-container");

            // Mostra/Nasconde la sezione commenti
            toggleButton.addEventListener("click", () => {
                if (commentSection.style.display === "none" || commentSection.style.display === "") {
                    commentSection.style.display = "block";
                    toggleButton.innerText = "üîΩ Nascondi Commenti";
                } else {
                    commentSection.style.display = "none";
                    toggleButton.innerText = "üí¨ Visualizza Commenti";
                }
            });

            // Funzione per creare le reazioni ai commenti
            function createReactions() {
                const reactions = ["üëç", "‚ù§Ô∏è", "üòÇ"]; // Lista di emoji disponibili
                const reactionContainer = document.createElement("div");
                reactionContainer.classList.add("reaction-container");

                reactions.forEach((emoji) => {
                    const reactionButton = document.createElement("button");
                    reactionButton.classList.add("reaction-button");
                    reactionButton.innerText = emoji;
                    reactionButton.dataset.count = 0; // Memorizza il numero di reazioni
                    reactionButton.addEventListener("click", () => {
                        let count = parseInt(reactionButton.dataset.count);
                        count++;
                        reactionButton.dataset.count = count;
                        reactionButton.innerText = `${emoji} ${count}`; // Aggiorna il numero
                    });
                    reactionContainer.appendChild(reactionButton);
                });

                return reactionContainer;
            }

            // Funzione per aggiungere un nuovo commento con reazioni
            addCommentButton.addEventListener("click", () => {
                const author = commentAuthor.value.trim();
                const commentText = commentInput.value.trim();

                if (author === "" || commentText === "") {
                    alert("Inserisci sia il nome che il commento!");
                    return;
                }

                const noCommentText = document.querySelector(".no-comments");
                if (noCommentText) {
                    noCommentText.remove();
                }

                const newComment = document.createElement("div");
                newComment.classList.add("comment");

                const authorElement = document.createElement("span");
                authorElement.classList.add("comment-author");
                authorElement.innerText = author;

                const textElement = document.createElement("p");
                textElement.innerText = commentText;

                const reactions = createReactions(); // Aggiunge le reazioni al commento

                newComment.appendChild(authorElement);
                newComment.appendChild(textElement);
                newComment.appendChild(reactions); // Inserisce le reazioni sotto il commento

                commentsContainer.appendChild(newComment);

                commentAuthor.value = "";
                commentInput.value = "";
            });
        });
    </script>
</body>
</html>
